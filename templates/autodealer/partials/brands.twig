{% set brandsarray = runSnippet('getCache', {
snippetName:'brands_array',
key: baseSettings["id"],
lifetime: '36000',
parent: catalog_number,
}) %}
<div class="index-cars-select mb-5">
	<div class="container">
		<div class="cars p-sm-5 p-3">
			<div class="block-name mb-4">
				<span>Выбрать</span> марку
			</div>
			<div class="row">
				
				<div class="col-md-3 col-6">
					{% if brandsarray is not empty %}
					{% set sorted_brands = brandsarray|sort((a, b) => b.count - a.count) %}
					{% set sliced_brands = sorted_brands|slice(16,8) %}
					{% for brand in sliced_brands %}
					<div class="item mb-3 d-flex justify-content-between">
						<a href="/katalog-avtomobilej/?f[42]={{ brand.name }}" class="justify-content-start">{{ brand.name }}</a>
						<span class="ml-auto text-light py-1 px-2">{{ brand.count }}</span>
					</div>
					{% endfor %}
					{% else %}
					The brands array is not defined or is empty.
					{% endif %}
				</div>
				<div class="col-md-3 col-6">
					{% if brandsarray is not empty %}
					{% set sorted_brands = brandsarray|sort((a, b) => b.count - a.count) %}
					{% set sliced_brands = sorted_brands|slice(0,8) %}
					{% for brand in sliced_brands %}
					<div class="item mb-3 d-flex justify-content-between">
						<a href="/katalog-avtomobilej/?f[42]={{ brand.name }}" class="justify-content-start">{{ brand.name }}</a>
						<span class="ml-auto text-light py-1 px-2">{{ brand.count }}</span>
					</div>
					{% endfor %}
					{% else %}
					The brands array is not defined or is empty.
					{% endif %}
				</div>
				<div class="col-md-3 col-6">
					{% if brandsarray is not empty %}
					{% set sorted_brands = brandsarray|sort((a, b) => b.count - a.count) %}
					{% set sliced_brands = sorted_brands|slice(8,8) %}
					{% for brand in sliced_brands %}
					<div class="item mb-3 d-flex justify-content-between">
						<a href="/katalog-avtomobilej/?f[42]={{ brand.name }}" class="justify-content-start">{{ brand.name }}</a>
						<span class="ml-auto text-light py-1 px-2">{{ brand.count }}</span>
					</div>
					{% endfor %}
					{% else %}
					The brands array is not defined or is empty.
					{% endif %}
				</div>
				<div class="col-md-3 col-6">
					{% if brandsarray is not empty %}
					{% set sorted_brands = brandsarray|sort((a, b) => b.count - a.count) %}
					{% set sliced_brands = sorted_brands|slice(24,8) %}
					{% for brand in sliced_brands %}
					<div class="item mb-3 d-flex justify-content-between">
						<a href="/katalog-avtomobilej/?f[42]={{ brand.name }}" class="justify-content-start">{{ brand.name }}</a>
						<span class="ml-auto text-light py-1 px-2">{{ brand.count }}</span>
					</div>
					{% endfor %}
					{% else %}
					The brands array is not defined or is empty.
					{% endif %}
				</div>
			</div>
		</div>
	</div>
</div>